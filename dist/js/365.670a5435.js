"use strict";(self["webpackChunkhex_vue_week6"]=self["webpackChunkhex_vue_week6"]||[]).push([[365],{8365:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var o=s(3396),a=s(9242);const n={class:"navbar navbar-dark bg-dark"},c={class:"container"},i={class:"navbar-nav flex-row w-100"},r={class:"nav-item me-auto"},u=(0,o.Uk)("回到首頁"),l={class:"nav-item"},h={class:"container | p-3"};function p(t,e,s,p,v,k){const d=(0,o.up)("router-link"),_=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",n,[(0,o._)("div",c,[(0,o._)("ul",i,[(0,o._)("li",r,[(0,o.Wm)(d,{class:"nav-link",to:"/"},{default:(0,o.w5)((()=>[u])),_:1})]),(0,o._)("li",l,[(0,o._)("a",{onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>k.logout&&k.logout(...t)),["prevent"])),href:"#",class:"nav-link"},"登出")])])])]),(0,o._)("div",h,[(0,o.Wm)(_)])],64)}var v={methods:{logout(){const t="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(t).then((t=>{t.data.success&&this.$router.replace("/")}))},check_login_status(){const t="https://vue3-course-api.hexschool.io/v2/api/user/check",e=document.cookie?.split("; ").find((t=>t.startsWith("hexToken=")))?.split("=")[1];void 0===e&&this.$router.replace("/login"),this.$http.defaults.headers.common.Authorization=e,this.$http.post(t).catch((t=>{t.response.data.success||this.$router.replace("/login")}))}},mounted(){this.check_login_status()}},k=s(89);const d=(0,k.Z)(v,[["render",p]]);var _=d}}]);
//# sourceMappingURL=365.670a5435.js.map