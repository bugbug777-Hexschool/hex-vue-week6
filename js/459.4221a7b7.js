"use strict";(self["webpackChunkhex_vue_week6"]=self["webpackChunkhex_vue_week6"]||[]).push([[459],{3459:function(e,s,a){a.r(s),a.d(s,{default:function(){return w}});var o=a(3396),l=a(7139);const r={class:"container | p-3 pt-5"},n={class:"row justify-content-center"},t={class:"col-4"},i=(0,o._)("h1",{class:"text-center"},"使用者請登入",-1),d={class:"form-floating mb-3"},c=(0,o._)("label",{for:"email",class:"d-block"},"帳號",-1),u={class:"form-floating mb-3"},m=(0,o._)("label",{for:"password",class:"d-block"},"密碼",-1),p=(0,o._)("div",{class:"text-end"},[(0,o._)("button",{type:"submit",class:"btn btn-primary"},"登入")],-1);function f(e,s,a,f,v,b){const h=(0,o.up)("v-field"),w=(0,o.up)("error-message"),_=(0,o.up)("v-form");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(_,{onSubmit:b.login},{default:(0,o.w5)((({errors:e})=>[(0,o._)("div",n,[(0,o._)("div",t,[i,(0,o._)("div",d,[(0,o.Wm)(h,{modelValue:v.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>v.user.username=e),type:"email",name:"email",class:(0,l.C_)(["form-control",{"is-invalid":e["email"]}]),id:"email",rules:"email|required","aria-describedby":"example@.mail.com"},null,8,["modelValue","class"]),c,(0,o.Wm)(w,{name:"email",class:"invalid-feedback"})]),(0,o._)("div",u,[(0,o.Wm)(h,{modelValue:v.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>v.user.password=e),type:"password",name:"password",class:(0,l.C_)(["form-control",{"is-invalid":e["password"]}]),rules:"required",id:"password"},null,8,["modelValue","class"]),m,(0,o.Wm)(w,{name:"password",class:"invalid-feedback"})]),p])])])),_:1},8,["onSubmit"])])}var v={data(){return{user:{username:"",password:""}}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{const{token:s,expired:a}=e.data;document.cookie=`hexToken=${s}; expires=${new Date(a)}; SameSite=None; Secure`,this.$router.replace("/admin/products")})).catch((e=>{console.log(e.response)}))}}},b=a(89);const h=(0,b.Z)(v,[["render",f]]);var w=h}}]);
//# sourceMappingURL=459.4221a7b7.js.map