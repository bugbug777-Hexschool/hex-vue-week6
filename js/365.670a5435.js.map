{"version":3,"file":"js/365.670a5435.js","mappings":"uMACOA,MAAM,8B,GACJA,MAAM,a,GACLA,MAAM,6B,GACJA,MAAM,oB,WAC6B,Q,GAEnCA,MAAM,Y,GAMXA,MAAM,mB,wHAZXC,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GASM,MATN,EASM,EARJA,EAAAA,EAAAA,GAOK,KAPL,EAOK,EANHA,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHC,EAAAA,EAAAA,IAAuDC,EAAA,CAA1CH,MAAM,WAAWI,GAAG,KAAjC,C,kBAAqC,IAAI,M,SAE3CH,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHA,EAAAA,EAAAA,GAA2D,KAAvDI,QAAK,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,cAAEC,KAAK,IAAIP,MAAM,YAAW,eAK7DC,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJC,EAAAA,EAAAA,IAAeM,MADjB,IAMF,OACEC,QAAS,CACPC,SACE,MAAMC,EAAO,iDACbC,KAAKC,MAAMC,KAAKH,GAAKI,MAAMC,IACrBA,EAAIC,KAAKC,SACXN,KAAKO,QAAQC,QAAQ,SAI3BC,qBACE,MAAMV,EAAO,yDACPW,EAAQC,SAASC,QACnBC,MAAM,MACPC,MAAMC,GAAQA,EAAIC,WAAW,gBAC5BH,MAAM,KAAK,QACDI,IAAVP,GACFV,KAAKO,QAAQC,QAAQ,UAEvBR,KAAKC,MAAMiB,SAASC,QAAQC,OAAOC,cAAgBX,EACnDV,KAAKC,MAAMC,KAAKH,GAAKuB,OAAOC,IACrBA,EAAIC,SAASnB,KAAKC,SACrBN,KAAKO,QAAQC,QAAQ,eAK7BiB,UACEzB,KAAKS,uB,QC1CT,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://hex-vue-week6/./src/views/DashboardView.vue","webpack://hex-vue-week6/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-dark bg-dark\">\n    <div class=\"container\">\n      <ul class=\"navbar-nav flex-row w-100\">\n        <li class=\"nav-item me-auto\">\n          <router-link class=\"nav-link\" to=\"/\">回到首頁</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <a @click.prevent=\"logout\" href=\"#\" class=\"nav-link\">登出</a>\n        </li>\n      </ul>\n    </div>\n  </nav>\n  <div class=\"container | p-3\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    logout() {\n      const api = `${process.env.VUE_APP_BASE}/v2/logout`;\n      this.$http.post(api).then((res) => {\n        if (res.data.success) {\n          this.$router.replace('/');\n        }\n      });\n    },\n    check_login_status() {\n      const api = `${process.env.VUE_APP_BASE}/v2/api/user/check`;\n      const token = document.cookie\n        ?.split('; ')\n        .find((row) => row.startsWith('hexToken='))\n        ?.split('=')[1];\n      if (token === undefined) {\n        this.$router.replace('/login');\n      }\n      this.$http.defaults.headers.common.Authorization = token;\n      this.$http.post(api).catch((err) => {\n        if (!err.response.data.success) {\n          this.$router.replace('/login');\n        }\n      });\n    },\n  },\n  mounted() {\n    this.check_login_status();\n  },\n};\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=cdb20114\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/sihle/Documents/Github/hex-vue-week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_router_link","to","onClick","$options","href","_component_router_view","methods","logout","api","this","$http","post","then","res","data","success","$router","replace","check_login_status","token","document","cookie","split","find","row","startsWith","undefined","defaults","headers","common","Authorization","catch","err","response","mounted","__exports__","render"],"sourceRoot":""}